# Description: The Udev package contains programs for dynamic creation of device nodes. The development of udev has been merged with systemd
# URL: http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html
# Maintainer: cgit.freedesktop.org/systemd/
# Packager: thierryn1 at hispeed dot ch

lfs_version="lfs-$version-1"
PKGMK_GROUPS=(devel)
source=(http://anduin.linuxfromscratch.org/sources/other/udev-${lfs_version}.tar.bz2 \
http://www.freedesktop.org/software/systemd/systemd-$version.tar.xz)

build()
{
cd systemd-$version
mv ../udev-${lfs_version} .
make -f udev-${lfs_version}/Makefile.lfs || \
make -j1 -f udev-${lfs_version}/Makefile.lfs

make -f udev-${lfs_version}/Makefile.lfs DESTDIR=$PKG install || \
make -j1 -f udev-${lfs_version}/Makefile.lfs DESTDIR=$PKG install
mkdir $PKG/bin
ln -sv ../lib/udev/init-net-rules.sh \
$PKG/bin/init-net-rules.sh
}
devel()
{
cd $PKG
bsdtar -cf \
$PKGMK_PACKAGE_DIR/$name.devel#$version-$release-any.pkg.tar \
usr/lib
rm -r usr
}
